<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>class-23</title>
    <link href="../assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="../assets/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>

    <div class="double">
        <div class="row">
            <div class="col-lg-6">
                <div class="container">
                    <h2 class="text-center py-5 fw-bold">Validation With javascript</h2>
                    <div class="centered-div">
                        <div class="form">
                            <form action="">
                                <div class="input-item">
                                    <input id="name" type="text" placeholder="Enter Your Name">
                                    <p class="name_err"></p>
                                </div>
                                <div class="input-item">
                                    <input id="email" type="text" placeholder="Enter Your Email">
                                    <p class="email_err"></p>
                                </div>
                                <div class="input-item pass_eye">
                                    <input id="password" type="password" placeholder="Enter Your Password">
                                    <i id="pass_eye" class="fa-solid fa-eye"></i>
                                    <p class="pass_err"></p>
                                </div>
                                <div class="input-item">
                                    <input id="con_pass" type="password" placeholder="Confirm Password">
                                    <p class="con_pass_err"></p>
                                </div>
                                <div class="input-item">
                                    <input id="submit" type="submit">
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="container">
                    <h2 class="text-center py-5 fw-bold">Category Add</h2>
                    <div class="form centered-div">
                        <form action="">
                            <div class="input-item">
                                <input id="category_name" type="text" placeholder="Enter Category Name">
                                <p class="category_err"></p>
                            </div>
                            <div class="input-item mt-4">
                                <input id="category_submit" type="submit">
                            </div>
                        </form>
                    </div>
                    <div class="category_box centered-div mt-5">
                        <ul class="main hide">
                        </ul>
                    </div>
                </div>
            </div>


            <div class="col-lg-6">
                <div class="container">
                    <h2 class="text-center py-4 fw-bold">Counter</h2>
                    <div class="centered-div">
                        <div class="counter_bg">
                            <div class="counter centered-div">0</div>
                            <div class="btns text-center">
                                <span class="increase btn btn-info"> Increase</span>
                                <span class=" mx-4 reset btn btn-info"> Reset</span>
                                <span class="decrease btn btn-info"> Decrease</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <script>

        let name = document.querySelector("#name")
        let name_err = document.querySelector(".name_err")
        let email = document.getElementById('email')
        let email_err = document.querySelector(".email_err")
        let password = document.getElementById('password')
        let pass_err = document.querySelector(".pass_err")
        let con_pass = document.getElementById('con_pass')
        let con_pass_err = document.querySelector(".con_pass_err")
        let submit = document.getElementById('submit')
        // regex for email and password validation
        let mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/
        let passwordformat = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/

        let pass_eye = document.getElementById('pass_eye')
        
        submit.addEventListener("click",(e)=>{
            // reload off
            e.preventDefault()
            if(!name.value){
                name_err.innerHTML = 'Enter Name *'
            }else{
                name_err.innerHTML = ''
            }

            // email validated
            if(!email.value){
                email_err.innerHTML = 'Enter Your Email *'
            }else{
                if(email.value.match(mailformat)){
                    email_err.innerHTML = ''
                }else{
                    email_err.innerHTML = 'Enter a valid Email *'
                }
            }


            if(!password.value){
                pass_err.innerHTML = 'Enter Your Password *'
            }else{
                if(password.value.match(passwordformat)){
                    pass_err.innerHTML = ''
                }else{
                    pass_err.innerHTML = 'Enter a Strong Password *'
                }
            }


            if(!con_pass.value){
                con_pass_err.innerHTML = 'Confirm Password'
            }else{
                if(password.value == con_pass.value){
                    con_pass_err.innerHTML = ''
                }else{
                    con_pass_err.innerHTML = 'Passsword didnt matched'
                }
            }

        })

        // eye button on off/password show and hide
        pass_eye.addEventListener("click",()=>{
            if(password.type === "password"){
                password.type = "text"
            }else{
                password.type = "password"
            }
        })

        // category add js starting from here================================
        // ==================================================================

        let category_name = document.querySelector("#category_name")
        let category_submit = document.getElementById('category_submit')
        let category_err = document.querySelector(".category_err")
        let main = document.querySelector(".main")


        category_submit.addEventListener("click",(e)=>{
            e.preventDefault()

            if(category_name.value){
                let arr = []
                arr.push(category_name.value)

                let element = ()=> {
                    arr.map(item =>{
                        let li = document.createElement('li')
                        li.innerHTML = item

                        let delete_btn = document.createElement('button')
                        delete_btn.innerText = "Delete"
                        li.appendChild(delete_btn)

                        delete_btn.addEventListener("click",()=>{
                            li.remove()
                        })

                        main.appendChild(li)
                    })
                }
                
                main.classList.remove("hide")
                element()
                
                category_name.value = ""
                category_err.innerHTML = ""
            }else{
                category_err.innerHTML = "Enter A Category Name"
            }
        })



        // counter up and down and reset js starting from here ==============
        // ==================================================================


        let counter = document.querySelector(".counter")
        let increase = document.querySelector(".increase")
        let decrease = document.querySelector(".decrease")
        let reset = document.querySelector(".reset")
        let count = 0


        increase.addEventListener("click",()=>{
            count = count+1
            counter.innerHTML = count
        })
        decrease.addEventListener("click",()=>{
            count = count-1
            counter.innerHTML = count
        })
        reset.addEventListener("click",()=>{
            count = 0
            counter.innerHTML = count
        })
        


    </script>

    <script src="../assets/js/jquery-1.12.4.min.js"></script>
    <script src="../assets/js/bootstrap.min.js"></script>
</body>
</html>